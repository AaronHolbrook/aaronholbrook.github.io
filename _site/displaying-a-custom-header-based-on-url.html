<!DOCTYPE html>
<html lang="en-US" class="no-js">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  

  
    
    <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Displaying a custom header based on URL | Holbrook, Inc.</title>
<meta name="generator" content="Jekyll v3.7.3">
<meta property="og:title" content="Displaying a custom header based on URL">
<meta name="author" content="Aaron Holbrook">
<meta property="og:locale" content="en_US">
<meta name="description" content="So I recently ran across a situation on Centegra’s website where I had set up our header image to show an image based on the section or area it’s in. This was working fine utilizing a custom get_ID_by_slug('slug-of-post') function I built to get the post ID.">
<meta property="og:description" content="So I recently ran across a situation on Centegra’s website where I had set up our header image to show an image based on the section or area it’s in. This was working fine utilizing a custom get_ID_by_slug('slug-of-post') function I built to get the post ID.">
<link rel="canonical" href="http://localhost:4000/displaying-a-custom-header-based-on-url">
<meta property="og:url" content="http://localhost:4000/displaying-a-custom-header-based-on-url">
<meta property="og:site_name" content="Holbrook, Inc.">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2011-02-18T00:00:00-06:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@aaronjholbrook">
<meta name="twitter:creator" content="@aaronjholbrook">
<script type="application/ld+json">
{"description":"So I recently ran across a situation on Centegra’s website where I had set up our header image to show an image based on the section or area it’s in. This was working fine utilizing a custom get_ID_by_slug(&#39;slug-of-post&#39;) function I built to get the post ID.","author":{"@type":"Person","name":"Aaron Holbrook"},"@type":"BlogPosting","url":"http://localhost:4000/displaying-a-custom-header-based-on-url","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/images/a7-dark-on-light.png"},"name":"Aaron Holbrook"},"headline":"Displaying a custom header based on URL","dateModified":"2011-02-18T00:00:00-06:00","datePublished":"2011-02-18T00:00:00-06:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/displaying-a-custom-header-based-on-url"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  

  <script>
    /* Cut the mustard */
    if ( 'querySelector' in document && 'addEventListener' in window ) {
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + 'js';
    }
  </script>

  <link rel="stylesheet" href="/assets/css/main.css">
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Tajawal:400,400i,700,700i%7CRaleway:400,400i,500,500i%7CSource+Code+Pro:400,500">
  <link rel="alternate" type="application/atom+xml" title="Holbrook, Inc." href="/atom.xml">
<!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

</head>


  <body class="layout--post  displaying-a-custom-header-based-on-url">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#primary-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    
  <div class="navigation-wrapper">
    <a href="#menu-toggle" id="menu-toggle">Menu</a>
    <nav id="primary-nav" class="site-nav">
      <ul>
<li><a href="/">Home</a></li>
<li><a href="/posts/">Posts</a></li>
<li><a href="/about/">About</a></li>
</ul>
    </nav>
  </div>
<!-- /.navigation-wrapper -->


    <header class="masthead">
  <div class="wrap">
    
      <a href="/" class="site-logo" rel="home" title="Holbrook, Inc.">
        <img src="/images/a7-dark-on-light.png" class="site-logo-img animated fadeInDown" alt="Holbrook, Inc.">
      </a>
    
    
      <h1 class="site-title animated fadeIn"><a href="/">Holbrook, Inc.</a></h1>
      <p class="site-description animated fadeIn" itemprop="description">Stuff that matters. <img class="emoji" title=":+1:" alt=":+1:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f44d.png" height="20" width="20"></p>
    
  </div>
</header><!-- /.masthead -->


    <main id="main" class="main-content" aria-label="Content">
  <article class="h-entry">
    

    <div class="page-wrapper">
      <header class="page-header">
        
        
          <h1 id="page-title" class="page-title p-name">Displaying a custom header based on URL
</h1>
        
      </header>

      <div class="page-sidebar">
        <div class="page-author h-card p-author">
<img src="/images/aaron-holbrook-photo.jpg" class="author-avatar u-photo" alt="Aaron Holbrook"><div class="author-info">
<div class="author-name">
        <em>by</em> <span class="p-name">Aaron Holbrook</span>
      </div>
<ul class="author-links">
<li class="author-link">
            <a class="u-url" rel="me" href="https://twitter.com/aaronjholbrook"><i class="fab fa-twitter-square fa-lg" title="Twitter"></i></a>
          </li>
<li class="author-link">
            <a class="u-url" rel="me" href="https://github.com/aaronholbrook"><i class="fab fa-github-square fa-lg" title="GitHub"></i></a>
          </li>
</ul>

<span class="read-time">1 min read</span>

    <time class="page-date dt-published" datetime="2011-02-18T00:00:00-06:00"><a class="u-url" href="">February 18, 2011</a>
</time>

  </div>
</div>

        
  <h3 class="page-taxonomies-title">Categories</h3>
  <ul class="page-taxonomies">
<li class="page-taxonomy"><a class="p-category" href="/categories/#wordpress" title="Pages filed under WordPress">WordPress</a></li>
<li class="page-taxonomy"><a class="p-category" href="/categories/#programming" title="Pages filed under Programming">Programming</a></li>
  </ul>


        

      </div>

      <div class="page-content">
        <div class="e-content">
          <p>So I recently ran across a situation on Centegra’s website where I had set up our header image to show an image based on the section or area it’s in. This was working fine utilizing a custom <code class="highlighter-rouge">get_ID_by_slug('slug-of-post')</code> function I built to get the post ID.</p>

<p>The problem with using custom post types though, is that if you’re displaying an archive listing of the custom post types, you’re unfortunately not able to just test whether or not the loop you’re in is a custom post type (since you’re listing them, you’re one level above).</p>

<p>My current solution I discovered was to test for the permalink or URL. This will only work if you have your permalink structure set up to show <code class="highlighter-rouge">/%post-name%/</code> and if you’re using the Simple Custom Post Type plugin which displays lists of custom post types for you (WordPress unfortunately still has not added this functionality at the time of this posting).</p>

<p>I store the URL in a variable, the string I want to test for (in this case the location custom post type listing) and then use the PHP function strpos (which will return positive if the second string is contained within the first string).</p>

<p>Here’s the code for those interested:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$server_uri</span> <span class="o">=</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'REQUEST_URI'</span><span class="p">];</span>
<span class="nv">$spt_location</span> <span class="o">=</span> <span class="s2">"location/"</span><span class="p">;</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nv">$wp</span><span class="o">-&lt;</span><span class="nx">query_vars</span><span class="p">[</span><span class="s2">"post_type"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"locations"</span> <span class="o">||</span> <span class="nb">strpos</span><span class="p">(</span><span class="nv">$server_uri</span><span class="p">,</span><span class="nv">$spt_location</span><span class="p">)</span> <span class="err"> </span><span class="p">)</span> <span class="p">{</span> <span class="cp">?&gt;</span>
<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"&amp;lt;?php bloginfo('stylesheet_directory'); ?&amp;gt; image location here "</span> <span class="na">alt=</span><span class="s">""</span> <span class="nt">/&gt;</span> <span class="cp">&lt;?php</span> <span class="p">}</span> <span class="cp">?&gt;</span>
</code></pre></div></div>

        </div>

        
          

        

        <nav class="page-pagination" role="navigation">
  
    <a class="page-previous" href="/my-web-design-workflow">
      <h4 class="page-pagination-label">Previous</h4>
      <span class="page-pagination-title">
        <i class="fas fa-arrow-left"></i> My Web Design Workflow

      </span>
    </a>
  

  
    <a class="page-next" href="/get_template_part-and-custom-templates">
      <h4 class="page-pagination-label">Next</h4>
      <span class="page-pagination-title">
        get_template_part and Custom Templates
 <i class="fas fa-arrow-right"></i>
      </span>
    </a>
  
</nav>

      </div>
    </div>
  </article>
</main>


    <footer id="footer" class="site-footer">
  <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
<div class="social-icons">
<a class="social-icon" href="https://twitter.com/aaronjholbrook"><i class="fab fa-twitter-square fa-2x" title="Twitter"></i></a><a class="social-icon" href="https://github.com/aaronholbrook"><i class="fab fa-github-square fa-2x" title="GitHub"></i></a><a class="social-icon" href="/atom.xml"><i class="fas fa-rss-square fa-2x" title="Feed"></i></a>
</div>
<div class="copyright">
    
      <p>Powered by <img class="emoji" title=":coffee:" alt=":coffee:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/2615.png" height="20" width="20"> and <img class="emoji" title=":heart:" alt=":heart:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/2764.png" height="20" width="20"></p>

    
  </div>
</footer>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.9/js/all.js"></script>


<!-- MathJax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  </body>

<!-- Thanks to Michael Rose for his So Simple Jekyll Theme-->
</html>
