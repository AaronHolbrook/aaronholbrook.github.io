<!DOCTYPE html>
<html lang="en-US" class="no-js">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  

  
    
    <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Testing a Transient Locking Mechanism with Siege | Holbrook, Inc.</title>
<meta name="generator" content="Jekyll v3.7.3">
<meta property="og:title" content="Testing a Transient Locking Mechanism with Siege">
<meta name="author" content="Aaron Holbrook">
<meta property="og:locale" content="en_US">
<meta name="description" content="When working with caching strategies, it’s important to step through your invalidation strategies. Namely, thinking through at what point does the data that you’re caching get regenerated, how does it get regenerated and who is regenerating it. It could be regenerated any time a new post is published, on a save_post hook by an author or admin OR it might need to be regenerated every 15 minutes by anyone hitting the front page.">
<meta property="og:description" content="When working with caching strategies, it’s important to step through your invalidation strategies. Namely, thinking through at what point does the data that you’re caching get regenerated, how does it get regenerated and who is regenerating it. It could be regenerated any time a new post is published, on a save_post hook by an author or admin OR it might need to be regenerated every 15 minutes by anyone hitting the front page.">
<link rel="canonical" href="http://localhost:4000/testing-transient-locking-mechanism-siege">
<meta property="og:url" content="http://localhost:4000/testing-transient-locking-mechanism-siege">
<meta property="og:site_name" content="Holbrook, Inc.">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2014-07-06T00:00:00-05:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@aaronjholbrook">
<meta name="twitter:creator" content="@aaronjholbrook">
<script type="application/ld+json">
{"description":"When working with caching strategies, it’s important to step through your invalidation strategies. Namely, thinking through at what point does the data that you’re caching get regenerated, how does it get regenerated and who is regenerating it. It could be regenerated any time a new post is published, on a save_post hook by an author or admin OR it might need to be regenerated every 15 minutes by anyone hitting the front page.","author":{"@type":"Person","name":"Aaron Holbrook"},"@type":"BlogPosting","url":"http://localhost:4000/testing-transient-locking-mechanism-siege","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/images/a7-dark-on-light.png"},"name":"Aaron Holbrook"},"headline":"Testing a Transient Locking Mechanism with Siege","dateModified":"2014-07-06T00:00:00-05:00","datePublished":"2014-07-06T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/testing-transient-locking-mechanism-siege"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  

  <script>
    /* Cut the mustard */
    if ( 'querySelector' in document && 'addEventListener' in window ) {
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + 'js';
    }
  </script>

  <link rel="stylesheet" href="/assets/css/main.css">
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Tajawal:400,400i,700,700i%7CRaleway:400,400i,500,500i%7CSource+Code+Pro:400,500">
  <link rel="alternate" type="application/atom+xml" title="Holbrook, Inc." href="/atom.xml">
<!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

</head>


  <body class="layout--post  testing-a-transient-locking-mechanism-with-siege">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#primary-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    
  <div class="navigation-wrapper">
    <a href="#menu-toggle" id="menu-toggle">Menu</a>
    <nav id="primary-nav" class="site-nav">
      <ul>
<li><a href="/">Home</a></li>
<li><a href="/posts/">Posts</a></li>
<li><a href="/about/">About</a></li>
<li><a href="/speaking">Speaking</a></li>
<li><a href="/categories/">Categories</a></li>
</ul>
    </nav>
  </div>
<!-- /.navigation-wrapper -->


    <header class="masthead">
  <div class="wrap">
    
      <a href="/" class="site-logo" rel="home" title="Holbrook, Inc.">
        <img src="/images/a7-dark-on-light.png" class="site-logo-img animated fadeInDown" alt="Holbrook, Inc.">
      </a>
    
    
      <h1 class="site-title animated fadeIn"><a href="/">Holbrook, Inc.</a></h1>
      <p class="site-description animated fadeIn" itemprop="description"><img class="emoji" title=":zap:" alt=":zap:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/26a1.png" height="20" width="20"> Things I've learned. Stuff that matters. <img class="emoji" title=":100:" alt=":100:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f4af.png" height="20" width="20"></p>
    
  </div>
</header><!-- /.masthead -->


    <main id="main" class="main-content" aria-label="Content">
  <article class="h-entry">
    

    <div class="page-wrapper">
      <header class="page-header">
        
        
          <h1 id="page-title" class="page-title p-name">Testing a Transient Locking Mechanism with Siege
</h1>
        
      </header>

      <div class="page-sidebar">
        <div class="page-author h-card p-author">
<img src="/images/aaron-holbrook-photo.jpg" class="author-avatar u-photo" alt="Aaron Holbrook"><div class="author-info">
<div class="author-name">
        <em>by</em> <span class="p-name">Aaron Holbrook</span>
      </div>
<ul class="author-links">
<li class="author-link">
            <a class="u-url" rel="me" href="https://twitter.com/aaronjholbrook"><i class="fab fa-twitter-square fa-lg" title="Twitter"></i></a>
          </li>
<li class="author-link">
            <a class="u-url" rel="me" href="https://github.com/aaronholbrook"><i class="fab fa-github-square fa-lg" title="GitHub"></i></a>
          </li>
</ul>

<span class="read-time">1 min read</span>

    <time class="page-date dt-published" datetime="2014-07-06T00:00:00-05:00"><a class="u-url" href="">July 6, 2014</a>
</time>

  </div>
</div>

        
  <h3 class="page-taxonomies-title">Categories</h3>
  <ul class="page-taxonomies">
<li class="page-taxonomy"><a class="p-category" href="/categories/#wordpress" title="Pages filed under WordPress">WordPress</a></li>
<li class="page-taxonomy"><a class="p-category" href="/categories/#programming" title="Pages filed under Programming">Programming</a></li>
<li class="page-taxonomy"><a class="p-category" href="/categories/#caching" title="Pages filed under Caching">Caching</a></li>
  </ul>


        

      </div>

      <div class="page-content">
        <div class="e-content">
          <p>When working with caching strategies, it’s important to step through your invalidation strategies. Namely, thinking through at what point does the data that you’re caching get regenerated, how does it get regenerated and <em>who</em> is regenerating it. It could be regenerated any time a new post is published, on a <code class="highlighter-rouge">save_post</code> hook by an author or admin OR it might need to be regenerated every 15 minutes by anyone hitting the front page.</p>

<p>In the latter case, you want to ensure that at the point where the cache has suddenly expired, you’re not allowing a number of concurrent users to simultaneously make the call for a regeneration of data (which generally is either computationally expensive, is lengthy or both). One way in which we can limit how many people are all slamming the regeneration is to create a short term transient lock. Essentially the idea is, the first user to go through the conditional statement will set a transient lock behind them and will be the only ones to (in my case) make the call to a weather API.</p>

<p>I wasn’t quite sure if this would be effective or not and so I decided to test my theory using <a href="http://www.joedog.org/siege-home/">Siege</a>, a http load testing and benchmarking utility. If you’ve never used or heard of Siege before, definitely check it out. It’s an amazing tool to have in your arsenal and it makes performance and load testing your site extremely fun.</p>

<p>I recorded a quick screencast that shows me walking through my testing of the transient lock and I thought I’d share it here.</p>

<p>Enjoy!</p>

<div class="responsive-embed responsive-embed-16by9">
  <iframe src="https://www.youtube.com/embed/yKxwlqZMVeo" frameborder="0" allowfullscreen=""></iframe>
</div>

        </div>

        
          

        

        <nav class="page-pagination" role="navigation">
  
    <a class="page-previous" href="/wordpress-permissions-update-error-resolved">
      <h4 class="page-pagination-label">Previous</h4>
      <span class="page-pagination-title">
        <i class="fas fa-arrow-left"></i> WordPress Permissions Update Error [RESOLVED]

      </span>
    </a>
  

  
    <a class="page-next" href="/git-subtrees-primer">
      <h4 class="page-pagination-label">Next</h4>
      <span class="page-pagination-title">
        Git Subtrees - A Primer
 <i class="fas fa-arrow-right"></i>
      </span>
    </a>
  
</nav>

      </div>
    </div>
  </article>
</main>


    <footer id="footer" class="site-footer">
  <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
<div class="social-icons">
<a class="social-icon" href="https://twitter.com/aaronjholbrook"><i class="fab fa-twitter-square fa-2x" title="Twitter"></i></a><a class="social-icon" href="https://github.com/aaronholbrook"><i class="fab fa-github-square fa-2x" title="GitHub"></i></a><a class="social-icon" href="/atom.xml"><i class="fas fa-rss-square fa-2x" title="Feed"></i></a>
</div>
<div class="copyright">
    
      <p>Powered by <img class="emoji" title=":coffee:" alt=":coffee:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/2615.png" height="20" width="20"> and <img class="emoji" title=":heart:" alt=":heart:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/2764.png" height="20" width="20"></p>

    
  </div>
</footer>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.9/js/all.js"></script>


<!-- MathJax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  </body>

<!-- Thanks to Michael Rose for his So Simple Jekyll Theme-->
</html>
