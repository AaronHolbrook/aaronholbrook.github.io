<!DOCTYPE html>
<html lang="en-US" class="no-js">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  

  
    
    <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>get_template_part and Custom Templates | Holbrook, Inc.</title>
<meta name="generator" content="Jekyll v3.7.3">
<meta property="og:title" content="get_template_part and Custom Templates">
<meta name="author" content="Aaron Holbrook">
<meta property="og:locale" content="en_US">
<meta name="description" content="In building the Centegra physician directory back in WordPress 3.0, there was no real way to use WordPress to display out a listing or archive of your custom posts. The temporary workaround solution was a little plugin I found called ‘Simple Custom Post Type Archives’. It worked well and all I had to do was create a file in the theme’s directory in the format type-custompostslug.php.">
<meta property="og:description" content="In building the Centegra physician directory back in WordPress 3.0, there was no real way to use WordPress to display out a listing or archive of your custom posts. The temporary workaround solution was a little plugin I found called ‘Simple Custom Post Type Archives’. It worked well and all I had to do was create a file in the theme’s directory in the format type-custompostslug.php.">
<link rel="canonical" href="http://localhost:4000/get_template_part-and-custom-templates">
<meta property="og:url" content="http://localhost:4000/get_template_part-and-custom-templates">
<meta property="og:site_name" content="Holbrook, Inc.">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2011-03-14T00:00:00-05:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@aaronjholbrook">
<meta name="twitter:creator" content="@aaronjholbrook">
<script type="application/ld+json">
{"description":"In building the Centegra physician directory back in WordPress 3.0, there was no real way to use WordPress to display out a listing or archive of your custom posts. The temporary workaround solution was a little plugin I found called ‘Simple Custom Post Type Archives’. It worked well and all I had to do was create a file in the theme’s directory in the format type-custompostslug.php.","author":{"@type":"Person","name":"Aaron Holbrook"},"@type":"BlogPosting","url":"http://localhost:4000/get_template_part-and-custom-templates","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/images/a7-dark-on-light.png"},"name":"Aaron Holbrook"},"headline":"get_template_part and Custom Templates","dateModified":"2011-03-14T00:00:00-05:00","datePublished":"2011-03-14T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/get_template_part-and-custom-templates"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  

  <script>
    /* Cut the mustard */
    if ( 'querySelector' in document && 'addEventListener' in window ) {
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + 'js';
    }
  </script>

  <link rel="stylesheet" href="/assets/css/main.css">
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Tajawal:400,400i,700,700i%7CRaleway:400,400i,500,500i%7CSource+Code+Pro:400,500">
  <link rel="alternate" type="application/atom+xml" title="Holbrook, Inc." href="/atom.xml">
<!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

</head>


  <body class="layout--post  get-template-part-and-custom-templates">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#primary-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    
  <div class="navigation-wrapper">
    <a href="#menu-toggle" id="menu-toggle">Menu</a>
    <nav id="primary-nav" class="site-nav">
      <ul>
<li><a href="/">Home</a></li>
<li><a href="/posts/">Posts</a></li>
<li><a href="/about/">About</a></li>
</ul>
    </nav>
  </div>
<!-- /.navigation-wrapper -->


    <header class="masthead">
  <div class="wrap">
    
      <a href="/" class="site-logo" rel="home" title="Holbrook, Inc.">
        <img src="/images/a7-dark-on-light.png" class="site-logo-img animated fadeInDown" alt="Holbrook, Inc.">
      </a>
    
    
      <h1 class="site-title animated fadeIn"><a href="/">Holbrook, Inc.</a></h1>
      <p class="site-description animated fadeIn" itemprop="description">Stuff that matters. <img class="emoji" title=":+1:" alt=":+1:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f44d.png" height="20" width="20"></p>
    
  </div>
</header><!-- /.masthead -->


    <main id="main" class="main-content" aria-label="Content">
  <article class="h-entry">
    

    <div class="page-wrapper">
      <header class="page-header">
        
        
          <h1 id="page-title" class="page-title p-name">get_template_part and Custom Templates
</h1>
        
      </header>

      <div class="page-sidebar">
        <div class="page-author h-card p-author">
<img src="/images/aaron-holbrook-photo.jpg" class="author-avatar u-photo" alt="Aaron Holbrook"><div class="author-info">
<div class="author-name">
        <em>by</em> <span class="p-name">Aaron Holbrook</span>
      </div>
<ul class="author-links">
<li class="author-link">
            <a class="u-url" rel="me" href="https://twitter.com/aaronjholbrook"><i class="fab fa-twitter-square fa-lg" title="Twitter"></i></a>
          </li>
<li class="author-link">
            <a class="u-url" rel="me" href="https://github.com/aaronholbrook"><i class="fab fa-github-square fa-lg" title="GitHub"></i></a>
          </li>
</ul>

<span class="read-time">1 min read</span>

    <time class="page-date dt-published" datetime="2011-03-14T00:00:00-05:00"><a class="u-url" href="">March 14, 2011</a>
</time>

  </div>
</div>

        
  <h3 class="page-taxonomies-title">Categories</h3>
  <ul class="page-taxonomies">
<li class="page-taxonomy"><a class="p-category" href="/categories/#wordpress" title="Pages filed under WordPress">WordPress</a></li>
<li class="page-taxonomy"><a class="p-category" href="/categories/#programming" title="Pages filed under Programming">Programming</a></li>
  </ul>


        

      </div>

      <div class="page-content">
        <div class="e-content">
          <p>In building the Centegra physician directory back in WordPress 3.0, there was no real way to use WordPress to display out a listing or archive of your custom posts. The temporary workaround solution was a little plugin I found called <a href="http://www.cmurrayconsulting.com/software/wordpress-custom-post-type-archives/">‘<strong>Simple Custom Post Type Archives</strong></a>’. It worked well and all I had to do was create a file in the theme’s directory in the format type-custompostslug.php.</p>

<p>However in 3.1 they’ve included much better support for utilizing the already built archives to display a listing of your custom posts.</p>

<p>It took me a little bit of work and digging into using the oh-so-fun get_template_part function, but I believe I’ve uncovered the right way (at least for me, for the time being).</p>
<h2>Step 1</h2>
<p>You will be using archive.php, so make sure you’re familiar with it. (If you haven’t used it before you should definitely take a <a href="http://codex.wordpress.org/Creating_an_Archive_Index">look</a>)</p>

<p>In your archive.php, use an if statement to determine what you’re outputting, if you’re outputting your custom post type then take action. (Place above the last else clause)</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span> <span class="nx">get_post_type</span><span class="p">(</span><span class="nv">$post</span><span class="p">)</span> <span class="o">==</span> <span class="s1">'physicians'</span><span class="p">)</span> <span class="p">{</span>
</code></pre></div></div>

<p>In this case, I’m actually displaying a search form if they land on the physicians page, so this becomes one step more complex - I now have to work in the search.php file.</p>

<h2>Step 2 and get_template_part()</h2>

<p>Originally, I thought the two parts of get_template_part ( ‘loop’, ‘search’) called the loop.php file then went to a sub-section called search. Actually what happens is it first looks for whatever you list in the first spot (in this case loop). The second area is actually if you’d like to specify a different file - if it exists (loop-search.php) than it calls that, if not it just calls loop.php.</p>

<p>This is insurmountably useful to keep your site logic separate. In this case I want to keep the physician listing separate from the default archive listing.</p>

<p>So I call it:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s1">'post_type'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'physicians'</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">get_template_part</span><span class="p">(</span> <span class="s1">'loop'</span><span class="p">,</span> <span class="s1">'physician-search-results'</span> <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Put that above the original <code class="highlighter-rouge">get_template_part( 'loop', 'search')</code> and turn that into an else statement.</p>

<p>Make your modifications to however you want to display your custom post and you’re done!</p>

        </div>

        
          

        

        <nav class="page-pagination" role="navigation">
  
    <a class="page-previous" href="/displaying-a-custom-header-based-on-url">
      <h4 class="page-pagination-label">Previous</h4>
      <span class="page-pagination-title">
        <i class="fas fa-arrow-left"></i> Displaying a custom header based on URL

      </span>
    </a>
  

  
    <a class="page-next" href="/its-about-time">
      <h4 class="page-pagination-label">Next</h4>
      <span class="page-pagination-title">
        It’s about time
 <i class="fas fa-arrow-right"></i>
      </span>
    </a>
  
</nav>

      </div>
    </div>
  </article>
</main>


    <footer id="footer" class="site-footer">
  <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
<div class="social-icons">
<a class="social-icon" href="https://twitter.com/aaronjholbrook"><i class="fab fa-twitter-square fa-2x" title="Twitter"></i></a><a class="social-icon" href="https://github.com/aaronholbrook"><i class="fab fa-github-square fa-2x" title="GitHub"></i></a><a class="social-icon" href="/atom.xml"><i class="fas fa-rss-square fa-2x" title="Feed"></i></a>
</div>
<div class="copyright">
    
      <p>Powered by <img class="emoji" title=":coffee:" alt=":coffee:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/2615.png" height="20" width="20"> and <img class="emoji" title=":heart:" alt=":heart:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/2764.png" height="20" width="20"></p>

    
  </div>
</footer>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.9/js/all.js"></script>


<!-- MathJax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  </body>

<!-- Thanks to Michael Rose for his So Simple Jekyll Theme-->
</html>
